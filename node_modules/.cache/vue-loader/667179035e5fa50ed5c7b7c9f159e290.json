{"remainingRequest":"/Users/ll/workspace/resume-automation/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ll/workspace/resume-automation/src/components/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ll/workspace/resume-automation/src/components/index/index.vue","mtime":1605713581769},{"path":"/Users/ll/workspace/resume-automation/node_modules/cache-loader/dist/cjs.js","mtime":1605511676425},{"path":"/Users/ll/workspace/resume-automation/node_modules/babel-loader/lib/index.js","mtime":1605511676428},{"path":"/Users/ll/workspace/resume-automation/node_modules/cache-loader/dist/cjs.js","mtime":1605511676425},{"path":"/Users/ll/workspace/resume-automation/node_modules/vue-loader/lib/index.js","mtime":1605511689716}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qaW1wb3J0ICJAL3B1YmxpYy9zdHlsdXMvYmFzaWMuc3R5bCI7Ki8KaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gImh0bWwyY2FudmFzIjsKaW1wb3J0IEpzUERGIGZyb20gImpzcGRmIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaW5kZXgnLAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgc3VidGl0bGU6IiIsIC8vIOWwj+agh+mimAogICAgICBjb250ZW50OiIiLCAvLyDnroDljoblhoXlrrkKICAgICAgZmlsZU5hbWU6IiIgLy8g5paH5Lu25ZCNCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIC8vIOeUn+aIkHBkZuaWh+S7tgogICAgZ2V0UGRmKCl7CiAgICAgIGxldCB0aXRsZSA9IHRoaXMuZmlsZU5hbWU7CiAgICAgIGh0bWwyY2FudmFzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZWFsLWNvbnRlbnQnKSx7CiAgICAgICAgYWxsb3dUYWludDp0cnVlLAogICAgICAgIHVzZUNPUlM6dHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChjYW52YXMpewogICAgICAgIGxldCBjb250ZW50V2lkdGggPSBjYW52YXMud2lkdGgKICAgICAgICBsZXQgY29udGVudEhlaWdodCA9IGNhbnZhcy5oZWlnaHQKICAgICAgICAvL+S4gOmhtXBkZuaYvuekumh0bWzpobXpnaLnlJ/miJDnmoRjYW52YXPpq5jluqY7CiAgICAgICAgbGV0IHBhZ2VIZWlnaHQgPSBjb250ZW50V2lkdGggLyA1OTIuMjggKiA4NDEuODkKICAgICAgICAvL+acqueUn+aIkHBkZueahGh0bWzpobXpnaLpq5jluqYKICAgICAgICBsZXQgbGVmdEhlaWdodCA9IGNvbnRlbnRIZWlnaHQKICAgICAgICAvL+mhtemdouWBj+enuwogICAgICAgIGxldCBwb3NpdGlvbiA9IDAKICAgICAgICAvL2E057q455qE5bC65a+4WzU5NS4yOCw4NDEuODld77yMaHRtbOmhtemdoueUn+aIkOeahGNhbnZhc+WcqHBkZuS4reWbvueJh+eahOWuvemrmAogICAgICAgIGxldCBpbWdXaWR0aCA9IDU5NS4yOAogICAgICAgIGxldCBpbWdIZWlnaHQgPSA1OTIuMjggLyBjb250ZW50V2lkdGggKiBjb250ZW50SGVpZ2h0CiAgICAgICAgbGV0IHBhZ2VEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIDEuMCkKICAgICAgICBsZXQgUERGID0gbmV3IEpzUERGKCcnLCAncHQnLCAnYTQnKQogICAgICAgIC8v5pyJ5Lik5Liq6auY5bqm6ZyA6KaB5Yy65YiG77yM5LiA5Liq5pivaHRtbOmhtemdoueahOWunumZhemrmOW6pu+8jOWSjOeUn+aIkHBkZueahOmhtemdoumrmOW6pig4NDEuODkpCiAgICAgICAgLy/lvZPlhoXlrrnmnKrotoXov4dwZGbkuIDpobXmmL7npLrnmoTojIPlm7TvvIzml6DpnIDliIbpobUKICAgICAgICBpZiAobGVmdEhlaWdodCA8IHBhZ2VIZWlnaHQpIHsKICAgICAgICAgIFBERi5hZGRJbWFnZShwYWdlRGF0YSwgJ0pQRUcnLCAwLCAwLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3aGlsZSAobGVmdEhlaWdodCA+IDApIHsKICAgICAgICAgICAgUERGLmFkZEltYWdlKHBhZ2VEYXRhLCAnSlBFRycsIDAsIHBvc2l0aW9uLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KQogICAgICAgICAgICBsZWZ0SGVpZ2h0IC09IHBhZ2VIZWlnaHQKICAgICAgICAgICAgcG9zaXRpb24gLT0gODQxLjg5CiAgICAgICAgICAgIC8v6YG/5YWN5re75Yqg56m655m96aG1CiAgICAgICAgICAgIGlmIChsZWZ0SGVpZ2h0ID4gMCkgewogICAgICAgICAgICAgIFBERi5hZGRQYWdlKCkKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZighdGl0bGUpewogICAgICAgICAgYWxlcnQoIuivt+Whq+WGmeaWh+S7tuWQjSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBQREYuc2F2ZSh0aXRsZSArICcucGRmJykKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\n  <section id=\"index\" class=\"index\">\n    <h3>转化为pdf工具</h3>\n    <div class=\"wdiv\">\n      <label>文件名</label>\n      <input class=\"file-name\" v-model=\"fileName\" />\n    </div>\n    <div class=\"wdiv\">\n      <label>小标题</label>\n      <input class=\"\" v-model=\"subtitle\" />\n    </div>\n    <div class=\"wdiv\">\n      <label>内容</label>\n      <textarea v-model=\"content\"></textarea>\n    </div>\n    <div class=\"pdf-div\">\n      <button class=\"btn\" @click=\"getPdf()\">生成pdf文件</button>\n    </div>\n    <div id=\"real-content\">\n      <h4>{{subtitle}}</h4>\n      <p>{{content}}</p>\n    </div>\n  </section>\n</template>\n\n<script>\n/*import \"@/public/stylus/basic.styl\";*/\nimport html2canvas from \"html2canvas\";\nimport JsPDF from \"jspdf\";\n\nexport default {\n  name: 'index',\n  data(){\n    return{\n      subtitle:\"\", // 小标题\n      content:\"\", // 简历内容\n      fileName:\"\" // 文件名\n    }\n  },\n  methods:{\n    // 生成pdf文件\n    getPdf(){\n      let title = this.fileName;\n      html2canvas(document.querySelector('#real-content'),{\n        allowTaint:true,\n        useCORS:true\n      }).then(function (canvas){\n        let contentWidth = canvas.width\n        let contentHeight = canvas.height\n        //一页pdf显示html页面生成的canvas高度;\n        let pageHeight = contentWidth / 592.28 * 841.89\n        //未生成pdf的html页面高度\n        let leftHeight = contentHeight\n        //页面偏移\n        let position = 0\n        //a4纸的尺寸[595.28,841.89]，html页面生成的canvas在pdf中图片的宽高\n        let imgWidth = 595.28\n        let imgHeight = 592.28 / contentWidth * contentHeight\n        let pageData = canvas.toDataURL('image/jpeg', 1.0)\n        let PDF = new JsPDF('', 'pt', 'a4')\n        //有两个高度需要区分，一个是html页面的实际高度，和生成pdf的页面高度(841.89)\n        //当内容未超过pdf一页显示的范围，无需分页\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight)\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight)\n            leftHeight -= pageHeight\n            position -= 841.89\n            //避免添加空白页\n            if (leftHeight > 0) {\n              PDF.addPage()\n            }\n          }\n        }\n        if(!title){\n          alert(\"请填写文件名\");\n        } else {\n          PDF.save(title + '.pdf')\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n@import \"../../public/stylus/basic.styl\"\n  section\n    max-width 750px\n    margin 0 auto\n    background $white\n    padding 2rem 6rem 10rem\n    h3\n      text-align center\n      font-size 3rem\n      margin-bottom 3rem\n    .wdiv\n      margin 1rem 0\n      label\n        color $blue\n        font-size $title\n        width 15%\n        float left\n        text-align-last justify\n        margin-right 1rem\n      input\n        width 80%\n        height 3rem\n        padding-left 1rem\n      textarea\n        height: 20rem\n        width 80%\n        padding-left 1rem\n    .pdf-div\n      text-align right\n      margin 1rem 1rem 0 0\n      button\n        padding .2rem\n    #real-content\n      margin-top 2rem\n      h4\n        border-bottom 2px solid #333\n        font-size 3rem\n      p\n        font-size 2.4rem\n</style>\n"]}]}