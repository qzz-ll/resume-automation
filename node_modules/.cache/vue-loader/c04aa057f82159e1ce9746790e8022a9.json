{"remainingRequest":"/Users/ll/workspace/resume-automation/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ll/workspace/resume-automation/src/components/index/index.vue?vue&type=style&index=0&id=826af616&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/ll/workspace/resume-automation/src/components/index/index.vue","mtime":1605713581769},{"path":"/Users/ll/workspace/resume-automation/node_modules/css-loader/dist/cjs.js","mtime":1605511688323},{"path":"/Users/ll/workspace/resume-automation/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1605511689716},{"path":"/Users/ll/workspace/resume-automation/node_modules/postcss-loader/src/index.js","mtime":1605511689289},{"path":"/Users/ll/workspace/resume-automation/node_modules/stylus-loader/index.js","mtime":1605619903177},{"path":"/Users/ll/workspace/resume-automation/node_modules/cache-loader/dist/cjs.js","mtime":1605511676425},{"path":"/Users/ll/workspace/resume-automation/node_modules/vue-loader/lib/index.js","mtime":1605511689716}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuLi8uLi9wdWJsaWMvc3R5bHVzL2Jhc2ljLnN0eWwiCiAgc2VjdGlvbgogICAgbWF4LXdpZHRoIDc1MHB4CiAgICBtYXJnaW4gMCBhdXRvCiAgICBiYWNrZ3JvdW5kICR3aGl0ZQogICAgcGFkZGluZyAycmVtIDZyZW0gMTByZW0KICAgIGgzCiAgICAgIHRleHQtYWxpZ24gY2VudGVyCiAgICAgIGZvbnQtc2l6ZSAzcmVtCiAgICAgIG1hcmdpbi1ib3R0b20gM3JlbQogICAgLndkaXYKICAgICAgbWFyZ2luIDFyZW0gMAogICAgICBsYWJlbAogICAgICAgIGNvbG9yICRibHVlCiAgICAgICAgZm9udC1zaXplICR0aXRsZQogICAgICAgIHdpZHRoIDE1JQogICAgICAgIGZsb2F0IGxlZnQKICAgICAgICB0ZXh0LWFsaWduLWxhc3QganVzdGlmeQogICAgICAgIG1hcmdpbi1yaWdodCAxcmVtCiAgICAgIGlucHV0CiAgICAgICAgd2lkdGggODAlCiAgICAgICAgaGVpZ2h0IDNyZW0KICAgICAgICBwYWRkaW5nLWxlZnQgMXJlbQogICAgICB0ZXh0YXJlYQogICAgICAgIGhlaWdodDogMjByZW0KICAgICAgICB3aWR0aCA4MCUKICAgICAgICBwYWRkaW5nLWxlZnQgMXJlbQogICAgLnBkZi1kaXYKICAgICAgdGV4dC1hbGlnbiByaWdodAogICAgICBtYXJnaW4gMXJlbSAxcmVtIDAgMAogICAgICBidXR0b24KICAgICAgICBwYWRkaW5nIC4ycmVtCiAgICAjcmVhbC1jb250ZW50CiAgICAgIG1hcmdpbi10b3AgMnJlbQogICAgICBoNAogICAgICAgIGJvcmRlci1ib3R0b20gMnB4IHNvbGlkICMzMzMKICAgICAgICBmb250LXNpemUgM3JlbQogICAgICBwCiAgICAgICAgZm9udC1zaXplIDIuNHJlbQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\n  <section id=\"index\" class=\"index\">\n    <h3>转化为pdf工具</h3>\n    <div class=\"wdiv\">\n      <label>文件名</label>\n      <input class=\"file-name\" v-model=\"fileName\" />\n    </div>\n    <div class=\"wdiv\">\n      <label>小标题</label>\n      <input class=\"\" v-model=\"subtitle\" />\n    </div>\n    <div class=\"wdiv\">\n      <label>内容</label>\n      <textarea v-model=\"content\"></textarea>\n    </div>\n    <div class=\"pdf-div\">\n      <button class=\"btn\" @click=\"getPdf()\">生成pdf文件</button>\n    </div>\n    <div id=\"real-content\">\n      <h4>{{subtitle}}</h4>\n      <p>{{content}}</p>\n    </div>\n  </section>\n</template>\n\n<script>\n/*import \"@/public/stylus/basic.styl\";*/\nimport html2canvas from \"html2canvas\";\nimport JsPDF from \"jspdf\";\n\nexport default {\n  name: 'index',\n  data(){\n    return{\n      subtitle:\"\", // 小标题\n      content:\"\", // 简历内容\n      fileName:\"\" // 文件名\n    }\n  },\n  methods:{\n    // 生成pdf文件\n    getPdf(){\n      let title = this.fileName;\n      html2canvas(document.querySelector('#real-content'),{\n        allowTaint:true,\n        useCORS:true\n      }).then(function (canvas){\n        let contentWidth = canvas.width\n        let contentHeight = canvas.height\n        //一页pdf显示html页面生成的canvas高度;\n        let pageHeight = contentWidth / 592.28 * 841.89\n        //未生成pdf的html页面高度\n        let leftHeight = contentHeight\n        //页面偏移\n        let position = 0\n        //a4纸的尺寸[595.28,841.89]，html页面生成的canvas在pdf中图片的宽高\n        let imgWidth = 595.28\n        let imgHeight = 592.28 / contentWidth * contentHeight\n        let pageData = canvas.toDataURL('image/jpeg', 1.0)\n        let PDF = new JsPDF('', 'pt', 'a4')\n        //有两个高度需要区分，一个是html页面的实际高度，和生成pdf的页面高度(841.89)\n        //当内容未超过pdf一页显示的范围，无需分页\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight)\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight)\n            leftHeight -= pageHeight\n            position -= 841.89\n            //避免添加空白页\n            if (leftHeight > 0) {\n              PDF.addPage()\n            }\n          }\n        }\n        if(!title){\n          alert(\"请填写文件名\");\n        } else {\n          PDF.save(title + '.pdf')\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n@import \"../../public/stylus/basic.styl\"\n  section\n    max-width 750px\n    margin 0 auto\n    background $white\n    padding 2rem 6rem 10rem\n    h3\n      text-align center\n      font-size 3rem\n      margin-bottom 3rem\n    .wdiv\n      margin 1rem 0\n      label\n        color $blue\n        font-size $title\n        width 15%\n        float left\n        text-align-last justify\n        margin-right 1rem\n      input\n        width 80%\n        height 3rem\n        padding-left 1rem\n      textarea\n        height: 20rem\n        width 80%\n        padding-left 1rem\n    .pdf-div\n      text-align right\n      margin 1rem 1rem 0 0\n      button\n        padding .2rem\n    #real-content\n      margin-top 2rem\n      h4\n        border-bottom 2px solid #333\n        font-size 3rem\n      p\n        font-size 2.4rem\n</style>\n"]}]}