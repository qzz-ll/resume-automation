{"remainingRequest":"/Users/ll/workspace/resume-automation/node_modules/babel-loader/lib/index.js!/Users/ll/workspace/resume-automation/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ll/workspace/resume-automation/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ll/workspace/resume-automation/src/components/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ll/workspace/resume-automation/src/components/index/index.vue","mtime":1605713581769},{"path":"/Users/ll/workspace/resume-automation/node_modules/cache-loader/dist/cjs.js","mtime":1605511676425},{"path":"/Users/ll/workspace/resume-automation/node_modules/babel-loader/lib/index.js","mtime":1605511676428},{"path":"/Users/ll/workspace/resume-automation/node_modules/cache-loader/dist/cjs.js","mtime":1605511676425},{"path":"/Users/ll/workspace/resume-automation/node_modules/vue-loader/lib/index.js","mtime":1605511689716}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qaW1wb3J0ICJAL3B1YmxpYy9zdHlsdXMvYmFzaWMuc3R5bCI7Ki8KaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gImh0bWwyY2FudmFzIjsKaW1wb3J0IEpzUERGIGZyb20gImpzcGRmIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmRleCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1YnRpdGxlOiAiIiwKICAgICAgLy8g5bCP5qCH6aKYCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICAvLyDnroDljoblhoXlrrkKICAgICAgZmlsZU5hbWU6ICIiIC8vIOaWh+S7tuWQjQoKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDnlJ/miJBwZGbmlofku7YKICAgIGdldFBkZjogZnVuY3Rpb24gZ2V0UGRmKCkgewogICAgICB2YXIgdGl0bGUgPSB0aGlzLmZpbGVOYW1lOwogICAgICBodG1sMmNhbnZhcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVhbC1jb250ZW50JyksIHsKICAgICAgICBhbGxvd1RhaW50OiB0cnVlLAogICAgICAgIHVzZUNPUlM6IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoY2FudmFzKSB7CiAgICAgICAgdmFyIGNvbnRlbnRXaWR0aCA9IGNhbnZhcy53aWR0aDsKICAgICAgICB2YXIgY29udGVudEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7IC8v5LiA6aG1cGRm5pi+56S6aHRtbOmhtemdoueUn+aIkOeahGNhbnZhc+mrmOW6pjsKCiAgICAgICAgdmFyIHBhZ2VIZWlnaHQgPSBjb250ZW50V2lkdGggLyA1OTIuMjggKiA4NDEuODk7IC8v5pyq55Sf5oiQcGRm55qEaHRtbOmhtemdoumrmOW6pgoKICAgICAgICB2YXIgbGVmdEhlaWdodCA9IGNvbnRlbnRIZWlnaHQ7IC8v6aG16Z2i5YGP56e7CgogICAgICAgIHZhciBwb3NpdGlvbiA9IDA7IC8vYTTnurjnmoTlsLrlr7hbNTk1LjI4LDg0MS44OV3vvIxodG1s6aG16Z2i55Sf5oiQ55qEY2FudmFz5ZyocGRm5Lit5Zu+54mH55qE5a696auYCgogICAgICAgIHZhciBpbWdXaWR0aCA9IDU5NS4yODsKICAgICAgICB2YXIgaW1nSGVpZ2h0ID0gNTkyLjI4IC8gY29udGVudFdpZHRoICogY29udGVudEhlaWdodDsKICAgICAgICB2YXIgcGFnZURhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgMS4wKTsKICAgICAgICB2YXIgUERGID0gbmV3IEpzUERGKCcnLCAncHQnLCAnYTQnKTsgLy/mnInkuKTkuKrpq5jluqbpnIDopoHljLrliIbvvIzkuIDkuKrmmK9odG1s6aG16Z2i55qE5a6e6ZmF6auY5bqm77yM5ZKM55Sf5oiQcGRm55qE6aG16Z2i6auY5bqmKDg0MS44OSkKICAgICAgICAvL+W9k+WGheWuueacqui2hei/h3BkZuS4gOmhteaYvuekuueahOiMg+WbtO+8jOaXoOmcgOWIhumhtQoKICAgICAgICBpZiAobGVmdEhlaWdodCA8IHBhZ2VIZWlnaHQpIHsKICAgICAgICAgIFBERi5hZGRJbWFnZShwYWdlRGF0YSwgJ0pQRUcnLCAwLCAwLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2hpbGUgKGxlZnRIZWlnaHQgPiAwKSB7CiAgICAgICAgICAgIFBERi5hZGRJbWFnZShwYWdlRGF0YSwgJ0pQRUcnLCAwLCBwb3NpdGlvbiwgaW1nV2lkdGgsIGltZ0hlaWdodCk7CiAgICAgICAgICAgIGxlZnRIZWlnaHQgLT0gcGFnZUhlaWdodDsKICAgICAgICAgICAgcG9zaXRpb24gLT0gODQxLjg5OyAvL+mBv+WFjea3u+WKoOepuueZvemhtQoKICAgICAgICAgICAgaWYgKGxlZnRIZWlnaHQgPiAwKSB7CiAgICAgICAgICAgICAgUERGLmFkZFBhZ2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCF0aXRsZSkgewogICAgICAgICAgYWxlcnQoIuivt+Whq+WGmeaWh+S7tuWQjSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBQREYuc2F2ZSh0aXRsZSArICcucGRmJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA,OAAA,WAAA,MAAA,aAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AACA;AACA,MAAA,OAAA,EAAA,EAFA;AAEA;AACA,MAAA,QAAA,EAAA,EAHA,CAGA;;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,MAFA,oBAEA;AACA,UAAA,KAAA,GAAA,KAAA,QAAA;AACA,MAAA,WAAA,CAAA,QAAA,CAAA,aAAA,CAAA,eAAA,CAAA,EAAA;AACA,QAAA,UAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA;AAFA,OAAA,CAAA,CAGA,IAHA,CAGA,UAAA,MAAA,EAAA;AACA,YAAA,YAAA,GAAA,MAAA,CAAA,KAAA;AACA,YAAA,aAAA,GAAA,MAAA,CAAA,MAAA,CAFA,CAGA;;AACA,YAAA,UAAA,GAAA,YAAA,GAAA,MAAA,GAAA,MAAA,CAJA,CAKA;;AACA,YAAA,UAAA,GAAA,aAAA,CANA,CAOA;;AACA,YAAA,QAAA,GAAA,CAAA,CARA,CASA;;AACA,YAAA,QAAA,GAAA,MAAA;AACA,YAAA,SAAA,GAAA,SAAA,YAAA,GAAA,aAAA;AACA,YAAA,QAAA,GAAA,MAAA,CAAA,SAAA,CAAA,YAAA,EAAA,GAAA,CAAA;AACA,YAAA,GAAA,GAAA,IAAA,KAAA,CAAA,EAAA,EAAA,IAAA,EAAA,IAAA,CAAA,CAbA,CAcA;AACA;;AACA,YAAA,UAAA,GAAA,UAAA,EAAA;AACA,UAAA,GAAA,CAAA,QAAA,CAAA,QAAA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,SAAA;AACA,SAFA,MAEA;AACA,iBAAA,UAAA,GAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,QAAA,CAAA,QAAA,EAAA,MAAA,EAAA,CAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA;AACA,YAAA,UAAA,IAAA,UAAA;AACA,YAAA,QAAA,IAAA,MAAA,CAHA,CAIA;;AACA,gBAAA,UAAA,GAAA,CAAA,EAAA;AACA,cAAA,GAAA,CAAA,OAAA;AACA;AACA;AACA;;AACA,YAAA,CAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,KAAA,GAAA,MAAA;AACA;AACA,OArCA;AAsCA;AA1CA;AATA,CAAA","sourcesContent":["<template>\n  <section id=\"index\" class=\"index\">\n    <h3>转化为pdf工具</h3>\n    <div class=\"wdiv\">\n      <label>文件名</label>\n      <input class=\"file-name\" v-model=\"fileName\" />\n    </div>\n    <div class=\"wdiv\">\n      <label>小标题</label>\n      <input class=\"\" v-model=\"subtitle\" />\n    </div>\n    <div class=\"wdiv\">\n      <label>内容</label>\n      <textarea v-model=\"content\"></textarea>\n    </div>\n    <div class=\"pdf-div\">\n      <button class=\"btn\" @click=\"getPdf()\">生成pdf文件</button>\n    </div>\n    <div id=\"real-content\">\n      <h4>{{subtitle}}</h4>\n      <p>{{content}}</p>\n    </div>\n  </section>\n</template>\n\n<script>\n/*import \"@/public/stylus/basic.styl\";*/\nimport html2canvas from \"html2canvas\";\nimport JsPDF from \"jspdf\";\n\nexport default {\n  name: 'index',\n  data(){\n    return{\n      subtitle:\"\", // 小标题\n      content:\"\", // 简历内容\n      fileName:\"\" // 文件名\n    }\n  },\n  methods:{\n    // 生成pdf文件\n    getPdf(){\n      let title = this.fileName;\n      html2canvas(document.querySelector('#real-content'),{\n        allowTaint:true,\n        useCORS:true\n      }).then(function (canvas){\n        let contentWidth = canvas.width\n        let contentHeight = canvas.height\n        //一页pdf显示html页面生成的canvas高度;\n        let pageHeight = contentWidth / 592.28 * 841.89\n        //未生成pdf的html页面高度\n        let leftHeight = contentHeight\n        //页面偏移\n        let position = 0\n        //a4纸的尺寸[595.28,841.89]，html页面生成的canvas在pdf中图片的宽高\n        let imgWidth = 595.28\n        let imgHeight = 592.28 / contentWidth * contentHeight\n        let pageData = canvas.toDataURL('image/jpeg', 1.0)\n        let PDF = new JsPDF('', 'pt', 'a4')\n        //有两个高度需要区分，一个是html页面的实际高度，和生成pdf的页面高度(841.89)\n        //当内容未超过pdf一页显示的范围，无需分页\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight)\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight)\n            leftHeight -= pageHeight\n            position -= 841.89\n            //避免添加空白页\n            if (leftHeight > 0) {\n              PDF.addPage()\n            }\n          }\n        }\n        if(!title){\n          alert(\"请填写文件名\");\n        } else {\n          PDF.save(title + '.pdf')\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n@import \"../../public/stylus/basic.styl\"\n  section\n    max-width 750px\n    margin 0 auto\n    background $white\n    padding 2rem 6rem 10rem\n    h3\n      text-align center\n      font-size 3rem\n      margin-bottom 3rem\n    .wdiv\n      margin 1rem 0\n      label\n        color $blue\n        font-size $title\n        width 15%\n        float left\n        text-align-last justify\n        margin-right 1rem\n      input\n        width 80%\n        height 3rem\n        padding-left 1rem\n      textarea\n        height: 20rem\n        width 80%\n        padding-left 1rem\n    .pdf-div\n      text-align right\n      margin 1rem 1rem 0 0\n      button\n        padding .2rem\n    #real-content\n      margin-top 2rem\n      h4\n        border-bottom 2px solid #333\n        font-size 3rem\n      p\n        font-size 2.4rem\n</style>\n"],"sourceRoot":"src/components/index"}]}